##########################################################################
#
# WARNING: This file was generated by update.php. Do not edit it directly.
#
#

services:
  - docker

env:
  global:
    - DOCKER_USERNAME: garypendergast
    - secure: usv1haWO4zKTM0Ewc/boDRTJTeje6pHYXxBMpf6ny58nvqYlcGfso/UDk6ZlAu/B3/uNrEzf7NqRibJduqmq4RNLqgI7DCFSJuyxXntuSK1/CRJso1+lGYBQKAKoRDb01i1+6qy511LpyZa/nta4FxD0LmrTVNkmurQMQsQIUq5GsSDpbbSmrCZ/oKFQu+mwLnLc1hpbsHdDAjwEiqMW7GGAD5xPmwUa2jV1ZhiKikifggZIpPCnHtKj5a3oGtYVzA9t0TfMkI42Xw089ViZ+7EEmLEG1oGGpZlixZFNE/tgrRF/JmekFYusIOVPEfPEJDMzmGCJwqSanhXxnSHc2OVTJ99CyGXqASKcppRrpxZmBq4j/3tT7aZdXehxoa3+7Ba0wgHqT6n0rJDXq+soZXZZo01hBJxsNKFx9jxkS1EUdKRDCE+sOytfgPFU4nraSjqGOsFQfNYVwW60nMI0Y637k/797SjgZeM6zjXarNpllsaaog3CL+sP+YPKDF9V9CiMUIPi5d5gBBvOts2CKEWgIxuSoukIfjejU4obKC79DOdTGdDYydXRBk4289BY4vtQtr+P7ORMJW1cZ/MFd2Nbxte1OmuE6MoAv2xzutJLJDTNxISC25zI6VdukAtC+F8/HHRzi3ysJO2fr3rH2da6Z8Jep7dSRL4iE0D5S0U=

before_script: echo "$DOCKER_PASSWORD" | docker login -u "$DOCKER_USERNAME" --password-stdin

jobs:
  include:
    - stage: build base php images
      script:
      - docker build -t wordpressdevelop/php:5.2-fpm 5.2/php
      - docker images
      - docker push wordpressdevelop/php:5.2-fpm
      - docker build -t wordpressdevelop/php:5.3-fpm 5.3/php
      - docker images
      - docker push wordpressdevelop/php:5.3-fpm
      - docker build -t wordpressdevelop/php:5.4-fpm 5.4/php
      - docker images
      - docker push wordpressdevelop/php:5.4-fpm
      - docker build -t wordpressdevelop/php:5.5-fpm 5.5/php
      - docker images
      - docker push wordpressdevelop/php:5.5-fpm
      - docker build -t wordpressdevelop/php:5.6-fpm 5.6/php
      - docker images
      - docker push wordpressdevelop/php:5.6-fpm
      - docker build -t wordpressdevelop/php:7.0-fpm 7.0/php
      - docker images
      - docker push wordpressdevelop/php:7.0-fpm
      - docker build -t wordpressdevelop/php:7.1-fpm 7.1/php
      - docker images
      - docker push wordpressdevelop/php:7.1-fpm
      - docker build -t wordpressdevelop/php:7.2-fpm 7.2/php
      - docker images
      - docker push wordpressdevelop/php:7.2-fpm
      - docker build -t wordpressdevelop/php:7.3-fpm -t wordpressdevelop/php:latest 7.3/php
      - docker images
      - docker push wordpressdevelop/php:7.3-fpm
      - docker push wordpressdevelop/php:latest

    - stage: build child images
      script:
      - docker build -t wordpressdevelop/phpunit:5.2-fpm 5.2/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:5.2-fpm
      - docker build -t wordpressdevelop/phpunit:5.3-fpm 5.3/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:5.3-fpm
      - docker build -t wordpressdevelop/phpunit:5.4-fpm 5.4/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:5.4-fpm
      - docker build -t wordpressdevelop/phpunit:5.5-fpm 5.5/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:5.5-fpm
      - docker build -t wordpressdevelop/phpunit:5.6-fpm 5.6/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:5.6-fpm
      - docker build -t wordpressdevelop/phpunit:7.0-fpm 7.0/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:7.0-fpm
      - docker build -t wordpressdevelop/phpunit:7.1-fpm 7.1/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:7.1-fpm
      - docker build -t wordpressdevelop/phpunit:7.2-fpm 7.2/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:7.2-fpm
      - docker build -t wordpressdevelop/phpunit:7.3-fpm -t wordpressdevelop/phpunit:latest 7.3/phpunit
      - docker images
      - docker push wordpressdevelop/phpunit:7.3-fpm
      - docker push wordpressdevelop/phpunit:latest

    - script:
      - docker build -t wordpressdevelop/cli:5.2-fpm 5.2/cli
      - docker images
      - docker push wordpressdevelop/cli:5.2-fpm
      - docker build -t wordpressdevelop/cli:5.3-fpm 5.3/cli
      - docker images
      - docker push wordpressdevelop/cli:5.3-fpm
      - docker build -t wordpressdevelop/cli:5.4-fpm 5.4/cli
      - docker images
      - docker push wordpressdevelop/cli:5.4-fpm
      - docker build -t wordpressdevelop/cli:5.5-fpm 5.5/cli
      - docker images
      - docker push wordpressdevelop/cli:5.5-fpm
      - docker build -t wordpressdevelop/cli:5.6-fpm 5.6/cli
      - docker images
      - docker push wordpressdevelop/cli:5.6-fpm
      - docker build -t wordpressdevelop/cli:7.0-fpm 7.0/cli
      - docker images
      - docker push wordpressdevelop/cli:7.0-fpm
      - docker build -t wordpressdevelop/cli:7.1-fpm 7.1/cli
      - docker images
      - docker push wordpressdevelop/cli:7.1-fpm
      - docker build -t wordpressdevelop/cli:7.2-fpm 7.2/cli
      - docker images
      - docker push wordpressdevelop/cli:7.2-fpm
      - docker build -t wordpressdevelop/cli:7.3-fpm -t wordpressdevelop/cli:latest 7.3/cli
      - docker images
      - docker push wordpressdevelop/cli:7.3-fpm
      - docker push wordpressdevelop/cli:latest

